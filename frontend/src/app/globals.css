@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 255 255 255;
    --foreground: 0 0 0;
    --primary: 229 26 229;
    --primary-foreground: 255 255 255;
    --secondary: 0 194 212;
    --secondary-foreground: 255 255 255;
    --border: 229 231 235;
    --muted: 249 250 251;
    --muted-foreground: 107 114 128;
    --popover: 255 255 255;
    --popover-foreground: 0 0 0;
    --accent: 249 250 251;
    --accent-foreground: 0 0 0;
  }

  .dark {
    --background: 0 0 0;
    --foreground: 255 255 255;
    --primary: 229 26 229;
    --primary-foreground: 255 255 255;
    --secondary: 0 194 212;
    --secondary-foreground: 255 255 255;
    --border: 55 65 81;
    --muted: 31 41 55;
    --muted-foreground: 156 163 175;
    --popover: 31 41 55;
    --popover-foreground: 255 255 255;
    --accent: 55 65 81;
    --accent-foreground: 255 255 255;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  
  html {
    /* Enable smooth scrolling for better UX */
    scroll-behavior: smooth;
    /* Performance optimization */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Optimize rendering */
    text-rendering: optimizeLegibility;
  }
  
  body {
    @apply bg-background text-foreground;
    font-family: var(--font-figtree), 'Figtree', sans-serif;
    font-weight: 200;
    /* Performance optimizations */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    /* Prevent layout shifts */
    overflow-x: hidden;
    /* Optimize text rendering */
    text-rendering: optimizeLegibility;
  }
  
  /* Ensure Figtree 200 light font is applied to all text elements */
  h1, h2, h3, h4, h5, h6, p, span, div, a, button, input, textarea, select, label {
    font-family: var(--font-figtree), 'Figtree', sans-serif;
    font-weight: 200;
  }
  
  /* All headings use the same size and weight as hero section - but allow component-level overrides */
  /* Note: Component-level text size classes will override these global styles */
}

@layer components {
  .gradient-text {
    @apply bg-gradient-to-r from-primary to-secondary bg-clip-text text-transparent;
  }

  .glass-effect {
    @apply backdrop-blur-md bg-white/10 border border-white/20;
  }

  .glow-effect {
    @apply shadow-glow hover:shadow-glow-secondary transition-all duration-300;
  }

  .animate-gradient {
    background-size: 200% 200%;
    animation: gradient 3s ease infinite;
  }

  @keyframes gradient {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }
}

@layer utilities {
  /* Hardware acceleration for smooth animations */
  .animate-spin-smooth {
    @apply transform-gpu;
    will-change: transform;
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0px) translateZ(0);
    }
    50% {
      transform: translateY(-10px) translateZ(0);
    }
  }

  .animate-float {
    animation: float 3s ease-in-out infinite;
    will-change: transform;
    transform: translateZ(0);
    backface-visibility: hidden;
  }

  .border-focus-thin:focus,
  .border-focus-thin:focus-visible {
    border-width: 1px !important;
  }
  
  /* Performance optimization utilities */
  .gpu-accelerated {
    transform: translateZ(0);
    will-change: transform;
    backface-visibility: hidden;
    perspective: 1000px;
  }
  
  .smooth-animation {
    will-change: transform, opacity;
    transform: translateZ(0);
    backface-visibility: hidden;
  }
}

/* Global performance optimizations for animations */
@layer base {
  /* Optimize all motion elements */
  [data-framer-component-type] {
    transform: translateZ(0);
    will-change: transform, opacity;
    backface-visibility: hidden;
  }
  
  /* Optimize canvas elements (Three.js) */
  canvas {
    transform: translateZ(0);
    will-change: contents;
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
  }
  
  /* Prevent layout shifts during animations */
  img, video {
    content-visibility: auto;
  }
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: rgb(var(--muted));
  border-radius: 10px;
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(45deg, #2D2DDD, #00C2D4);
  border-radius: 10px;
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(45deg, #2525B0, #00A8B8);
}

.dark ::-webkit-scrollbar-track {
  background: rgb(var(--muted));
}

@keyframes fade-spin {
  0% {
    opacity: 1;
  }
  50% {
    opacity: 0.3;
  }
  100% {
    opacity: 1;
  }
}

.animate-fade-spin {
  animation: fade-spin 1.2s linear infinite;
}
